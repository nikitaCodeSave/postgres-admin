---
description: Создать новый Architecture Decision Record (ADR)
allowed-tools: Bash(ls:*), Bash(grep:*), Bash(sort:*), Bash(tail:*), Bash(date:*), Read, Write
---

Помогаю создать новый Architecture Decision Record (ADR) для документирования архитектурного решения.

## Контекст

В проекте используется ADR для документирования важных архитектурных решений. ADR хранятся в `docs/adr/` и следуют формату MADR (Markdown Architectural Decision Records).

## Существующие ADR

!`ls -1 docs/adr/*.md | grep -E '[0-9]{4}' | sort`

## Процесс создания

1. **Определить следующий номер** на основе списка выше

2. **Задать вопросы**:
   - О каком архитектурном решении идет речь? (краткое название)
   - Какую проблему мы решаем? (контекст)
   - Какое решение выбрали? (описание решения)
   - Какие альтернативы рассматривались?
   - Каковы положительные и отрицательные последствия?

3. **Создать файл ADR**:
   - Имя файла: `docs/adr/NNNN-short-title.md` где NNNN = следующий номер (например, 0002)
   - Использовать шаблон из `docs/adr/0000-template.md`
   - Заполнить секции на основе ответов
   - Установить статус "proposed" изначально
   - Установить сегодняшнюю дату: !`date +%Y-%m-%d`

4. **После создания сообщить**:
   - Путь к файлу
   - Что нужно пересмотреть и изменить статус на "accepted" когда будет готово

## Критерии для ADR

✅ **Подходит для ADR**:
- Выбор фреймворка (React vs Vue, FastAPI vs Django)
- Решения о хранении данных (PostgreSQL vs MongoDB)
- Паттерны проектирования API (REST vs GraphQL)
- Стратегии деплоя (Docker Compose vs Kubernetes)
- Выбор библиотек для core функциональности

❌ **НЕ для ADR**:
- Именование переменных
- Мелкий рефакторинг
- Исправления багов
- Косметические изменения

**Важно**: Если решение не выглядит архитектурным, уточнить перед созданием ADR.
